(this["webpackJsonpreview-reactjs"]=this["webpackJsonpreview-reactjs"]||[]).push([[0],{124:function(e,t,n){},151:function(e,t,n){"use strict";n.r(t);var a,r,i,c,s,o,l,j=n(1),u=n.n(j),d=n(36),b=n.n(d),h=(n(124),n(16)),x=n.n(h),m=n(21),p=n(4),O=n(17),g=n(9),f=n(15),v=n(0),y=u.a.createContext(),w=function(e){var t=Object(j.useState)({}),n=Object(p.a)(t,2),a=n[0],r=n[1];return Object(v.jsx)(y.Provider,{value:{user:a,setUser:r},children:e.children})},k=y,C=n(102),S=n.n(C).a.create({baseURL:"http://localhost:3000/api"}),B=f.a.img(a||(a=Object(g.a)(["\n  height: 100%;\n"]))),T=f.a.div(r||(r=Object(g.a)(["\n  position: absolute;\n  top: 48px;\n  right: 0px;\n  background: rgba(0, 0, 0, 0.6);\n  border: 1px solid #f9f9f9;\n  border-radius: 4px;\n  box-shadow: gray 0px 0px 18px 0px;\n  padding: 10px;\n  font-size: 14px;\n  letter-spacing: 3px;\n  width: 100px;\n  opacity: 0;\n"]))),E=f.a.div(i||(i=Object(g.a)(["\n  position: relative;\n  height: 48px;\n  width: 48px;\n  cursor: pointer;\n  margin-right: 2rem;\n  margin-top: 6px;\n  "," {\n    border-radius: 50%;\n    width: 100%;\n    height: 100%;\n  }\n  &:hover {\n    "," {\n      opacity: 1;\n      transition-duration: 1s;\n    }\n  }\n"])),B,T),A=function(){return Object(v.jsxs)(E,{children:[Object(v.jsx)(B,{src:"https://cdn-icons-png.flaticon.com/512/149/149071.png",alt:""}),Object(v.jsx)(T,{children:Object(v.jsxs)("span",{onClick:function(){S.delete("/user/logout").then((function(){return window.location.reload()}))},style:{color:"white"},children:[" ","SignOut"]})})]})},R=f.a.button(c||(c=Object(g.a)(["\n  position: relative;\n  background-color: rgba(0, 0, 0, 0.4);\n  color: white;\n  padding: 10px 20px;\n  border: 1px solid white;\n  margin-right: 20px;\n  &:hover {\n    background-color: rgba(208, 211, 212, 0.2);\n    border: 1px solid white;\n    color: white;\n  }\n"]))),D=function(e){var t=e.label;return Object(v.jsx)(R,{children:t})},_=f.a.nav(s||(s=Object(g.a)(["\n  position: relative;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 60px;\n  padding: 0 30px;\n  z-index: 3;\n  border-bottom: 3px solid rgba(0, 0, 0, 0.6);\n"]))),N=function(){var e=Object(j.useContext)(k).user;return Object(v.jsx)(_,{children:e.role?"user"===e.role?Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:2},children:[Object(v.jsx)("p",{style:{marginLeft:3,marginTop:"-.2rem",fontSize:46,fontWeight:"bolder"},children:Object(v.jsx)(O.b,{to:"/",style:{textDecoration:"none",color:"rgba(255, 255, 255, 0.8)"},children:"GOODIES FOR THE FOODIES!"})}),Object(v.jsx)(A,{})]}):"owner"===e.role?Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:2},children:[Object(v.jsx)("p",{style:{marginLeft:3,marginTop:"-.2rem",fontSize:46,fontWeight:"bolder"},children:Object(v.jsx)(O.b,{to:"/",style:{textDecoration:"none",color:"rgba(255, 255, 255, 0.8)"},children:"YOUR RESTAURANT LIST!"})}),Object(v.jsx)(A,{})]}):Object(v.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:2},children:Object(v.jsx)(A,{})}):Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",padding:12},children:[Object(v.jsx)(O.b,{to:"/login",children:Object(v.jsx)(D,{label:"Login"})}),Object(v.jsx)(O.b,{to:"/signup",children:Object(v.jsx)(D,{label:"Signup"})})]})})},I=f.a.div(o||(o=Object(g.a)(["\n  font-size: 46px;\n  font-weight: bolder;\n  color: rgba(255, 255, 255, 0.8);\n  display: flex;\n  justify-content: center;\n"]))),G=f.a.div(l||(l=Object(g.a)(['\n  text-align: center;\n  position: absolute;\n  height: 100vh;\n  width: 100vw;\n  overflow: hidden;\n  background: url("/assets/BG.jpeg") center center / cover no-repeat fixed;\n']))),L=function(){return Object(v.jsxs)(G,{children:[Object(v.jsx)(N,{}),Object(v.jsx)(I,{"data-aos":"fade-up","data-aos-duration":"1200",children:Object(v.jsx)("p",{children:"YOU GOTTA NOURISH TO FLOURISH!"})})]})},F=n(200),V=n(201),z=n(189),P=n(22),H=Object(z.a)({field:{width:292.5,height:30,marginBottom:20,backgroundColor:"rgba(255, 255, 255, 0.8)"},btn:{fontSize:18,letterSpacing:2,padding:10},form:{width:300,backgroundColor:"rgba(0, 0, 0, 0.6)",padding:50,margin:"auto",marginTop:50},Container:{height:"100vh",width:"100vw",overflow:"hidden",backgroundColor:"#2a2a2a"}}),W=function(){var e=H(),t=Object(j.useState)(""),n=Object(p.a)(t,2),a=n[0],r=n[1],i=Object(j.useState)(""),c=Object(p.a)(i,2),s=c[0],o=c[1],l=Object(j.useState)(""),u=Object(p.a)(l,2),d=u[0],b=u[1],h=Object(j.useState)(""),x=Object(p.a)(h,2),m=x[0],g=x[1],f=Object(j.useState)("N/A"),y=Object(p.a)(f,2),w=y[0],k=y[1],C=Object(j.useState)(""),B=Object(p.a)(C,2),T=B[0],E=B[1],A=Object(P.g)();return Object(v.jsx)(F.a,{className:e.Container,maxWidth:!1,children:Object(v.jsxs)("form",{className:e.form,onSubmit:function(e){if(e.preventDefault(),a&&s&&d&&m&&"N/A"!==w)if(d!==m)E("Password does not match");else{E("");var t={username:a,email:s,password:m,role:w};console.log("user: ",t),S.post("/user/signup",t).then((function(e){A.push("/login")}))}else E("All fields are required")},children:[Object(v.jsx)("div",{style:{color:"white",fontSize:18,height:25,textAlign:"center"},children:"Signup"}),Object(v.jsx)("div",{style:{color:"red",height:25},children:T&&T}),Object(v.jsxs)("div",{style:{marginBottom:15},children:[Object(v.jsx)("input",{placeholder:"username",type:"text",name:"username",value:a,onChange:function(e){return r(e.target.value)},className:e.field}),Object(v.jsx)("input",{placeholder:"Email",type:"email",name:"email",value:s,onChange:function(e){return o(e.target.value)},className:e.field}),Object(v.jsx)("input",{placeholder:"Password",type:"password",name:"password",value:d,onChange:function(e){return b(e.target.value)},className:e.field}),Object(v.jsx)("input",{placeholder:"Confirm Password",type:"password",name:"password",value:m,onChange:function(e){return g(e.target.value)},className:e.field}),Object(v.jsxs)("select",{style:{width:300,height:30},value:w,onChange:function(e){return k(e.target.value)},name:"role",children:[Object(v.jsx)("option",{value:"N/A",disabled:!0,children:"--Select a Role--"}),Object(v.jsx)("option",{value:"user",children:"Restaurant Customer"}),Object(v.jsx)("option",{value:"owner",children:"Restaurant Owner"})]}),Object(v.jsx)(O.b,{to:"/login",children:"Click here to login"})]}),Object(v.jsx)(V.a,{className:e.btn,variant:"contained",fullWidth:!0,type:"submit",children:"Signup"})]})})},M=Object(z.a)({field:{backgroundColor:"rgba(255, 255, 255, 0.8)",width:292.5,height:30,marginBottom:20},btn:{fontSize:18,letterSpacing:2,padding:10},form:{width:300,backgroundColor:"rgba(0, 0, 0, 0.6)",padding:50,margin:"auto",marginTop:50},Container:{height:"100vh",width:"100vw",overflow:"hidden",backgroundColor:"#2a2a2a"}}),U=function(){var e=M(),t=Object(P.g)(),n=Object(j.useContext)(k).setUser,a=Object(j.useState)(""),r=Object(p.a)(a,2),i=r[0],c=r[1],s=Object(j.useState)(""),o=Object(p.a)(s,2),l=o[0],u=o[1],d=Object(j.useState)(""),b=Object(p.a)(d,2),h=b[0],x=b[1];return Object(v.jsx)("div",{children:Object(v.jsx)(F.a,{className:e.Container,maxWidth:!1,children:Object(v.jsxs)("form",{className:e.form,onSubmit:function(e){if(e.preventDefault(),i||l){x("");var a={email:i,password:l};S.post("/user/login",a).then((function(e){"Invalid email or password"===e.data?x(e.data):(n(e.data),t.push("/"))}))}else x("Field Can't be empty")},children:[Object(v.jsx)("div",{style:{color:"white",fontSize:18,height:25,textAlign:"center"},children:"Login"}),Object(v.jsx)("div",{style:{color:"red",height:25},children:h&&h}),Object(v.jsxs)("div",{style:{marginBottom:15},children:[Object(v.jsx)("input",{placeholder:"Email",type:"email",name:"email",value:i,onChange:function(e){return c(e.target.value)},className:e.field}),Object(v.jsx)("input",{placeholder:"Password",type:"password",name:"password",value:l,onChange:function(e){return u(e.target.value)},className:e.field}),Object(v.jsx)(O.b,{to:"/signup",children:"Click here to signup"})]}),Object(v.jsx)(V.a,{className:e.btn,variant:"contained",fullWidth:!0,type:"submit",children:"Login"})]})})})},J=function(){return Object(v.jsxs)(P.d,{children:[Object(v.jsx)(P.b,{path:"/",exact:!0,component:L}),Object(v.jsx)(P.b,{path:"/signup",exact:!0,component:W}),Object(v.jsx)(P.b,{path:"/login",exact:!0,component:U}),Object(v.jsx)(P.a,{from:"*",to:"/"})]})},q=n(202),Y=n(204),K=n(192),Q=n(205),X=n(206),Z=n(195),$=n(207),ee=function(e){var t=e.name,n=e.rating,a=e.image,r=e.description,i=e.restaurantId;return Object(v.jsxs)(q.a,{elevation:"2",style:{margin:20,width:345},children:[Object(v.jsx)(Y.a,{title:t,subheader:Object(v.jsx)(K.a,{name:"read-only",value:n,precision:.5,readOnly:!0}),style:{textAlign:"left",marginLeft:-8,backgroundColor:"#4B4B4B",color:"white"}}),Object(v.jsx)(Q.a,{component:"img",height:"194",image:"http://localhost:5000/".concat(a),alt:"Paella dish"}),Object(v.jsx)(X.a,{style:{textAlign:"left",marginLeft:-8,backgroundColor:"#4B4B4B",color:"white"},children:Object(v.jsx)(Z.a,{noWrap:!0,children:r})}),Object(v.jsx)($.a,{style:{backgroundColor:"#4B4B4B",color:"white",borderTop:"2px solid black"},children:Object(v.jsx)(Z.a,{children:Object(v.jsx)(O.b,{to:"/restaurantview/".concat(i),children:"View restaurant"})})})]})},te=n(33),ne=n.n(te),ae=n(8),re=n(196);function ie(){return Object(v.jsxs)(q.a,{style:{backgroundColor:"#4B4B4B",color:"white",height:385,width:350,margin:20},children:[Object(v.jsx)(Y.a,{title:Object(v.jsx)(re.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6,backgroundColor:"grey"}}),subheader:Object(v.jsx)(re.a,{animation:"wave",height:10,width:"40%",style:{backgroundColor:"grey"}}),style:{marginBottom:25,marginTop:20}}),Object(v.jsx)(re.a,{sx:{height:190},animation:"wave",variant:"rectangular",style:{backgroundColor:"grey"}}),Object(v.jsx)(X.a,{children:Object(v.jsxs)(j.Fragment,{children:[Object(v.jsx)(re.a,Object(ae.a)({animation:"wave",height:10,style:{marginBottom:6}},"style",{backgroundColor:"grey"})),Object(v.jsx)(re.a,{animation:"wave",height:10,width:"80%",style:{backgroundColor:"grey"}}),Object(v.jsx)(re.a,{animation:"wave",height:10,width:"80%",style:{marginTop:32,backgroundColor:"grey"}})]})})]})}function ce(){return Object(v.jsx)("div",{children:Object(v.jsx)(ie,{loading:!0})})}var se,oe,le,je,ue,de,be,he,xe,me,pe,Oe,ge,fe,ve,ye=n(18),we=n.n(ye),ke=f.a.div(se||(se=Object(g.a)(["\n  position: absolute;\n  height: 100vh;\n  width: 100vw;\n  overflow-x: hidden;\n  background-color: #2a2a2a;\n"]))),Ce=f.a.div(oe||(oe=Object(g.a)(["\n  margin-top: 2rem;\n  margin-bottom: 20px;\n"]))),Se=function(){var e=Object(j.useState)([]),t=Object(p.a)(e,2),a=t[0],r=t[1],i=Object(j.useState)(!0),c=Object(p.a)(i,2),s=c[0],o=c[1],l=Object(j.useRef)(null);Object(j.useEffect)((function(){u()}),[]),Object(j.useEffect)((function(){return we.a.loadAnimation({container:l.current,renderer:"svg",loop:!0,autoplay:!0,animationData:n(42)}),function(){we.a.destroy()}}));var u=function(){var e=Object(m.a)(x.a.mark((function e(){var t,n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,S.get("/restaurant/");case 3:return n=e.sent,e.next=6,S.get("/review/");case 6:a=e.sent,n.data.restaurant.map((function(e){var n,r=[];a.data.review.map((function(t){return e._id===t.restaurant&&r.push(parseInt(t.star)),null})),n=ne.a.sum(r)/r.length,e.averageReview=n||0,t.push(e)})),t.sort((function(e,t){return e.averageReview<t.averageReview?1:-1})),console.log("tempRestaurants: ",t),r(t),o(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)(ke,{children:[Object(v.jsx)(N,{}),Object(v.jsxs)(Ce,{children:[0===a.length&&!s&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:{height:190,width:190,margin:"auto"},className:"lottieContainer",ref:l}),Object(v.jsx)(Z.a,{style:{textAlign:"center",marginLeft:-5},children:"Empty"})]}),Object(v.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3,minmax(0,1fr))"},children:s?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ce,{}),Object(v.jsx)(ce,{}),Object(v.jsx)(ce,{})]}):a.map((function(e){return Object(v.jsx)(ee,{name:e.name,rating:e.averageReview,image:e.image,description:e.description,restaurantId:e._id})}))})]})]})},Be=n(208),Te=n(193),Ee=function(){return Object(v.jsxs)("div",{style:{marginLeft:"2rem"},children:[Object(v.jsx)("div",{style:{marginTop:"2rem"},children:Object(v.jsx)(re.a,{animation:"wave",height:25,width:"12%",style:{backgroundColor:"grey"}})}),Object(v.jsx)(re.a,{animation:"wave",height:25,width:"7%",style:{backgroundColor:"grey",marginBottom:"2rem"}}),Object(v.jsx)(re.a,{sx:{height:"50vh",width:"40vw"},animation:"wave",variant:"rectangular",style:{backgroundColor:"grey",marginBottom:"2rem"}}),Object(v.jsx)(re.a,{animation:"wave",height:25,width:"80%",style:{backgroundColor:"grey"}}),Object(v.jsx)(re.a,{animation:"wave",height:25,width:"45%",style:{backgroundColor:"grey",marginBottom:"2rem"}}),Object(v.jsxs)(Be.a,{sx:{width:"95%",bgcolor:"rgba(0, 0, 0, 0.8)",color:"white"},children:[Object(v.jsx)(Z.a,{style:{marginLeft:"1rem",marginBottom:7},children:Object(v.jsx)(re.a,{animation:"wave",height:16,width:"20%",style:{backgroundColor:"grey"}})}),Object(v.jsx)("div",{children:Object(v.jsx)(Te.a,{alignItems:"flex-start",children:Object(v.jsx)(re.a,{animation:"wave",height:16,width:"40%",style:{backgroundColor:"grey"}})})})]})]})},Ae=n(209),Re=n(210),De=f.a.div(le||(le=Object(g.a)(["\n  position: absolute;\n  height: 100vh;\n  width: 100vw;\n  overflow-x: hidden;\n  background-color: #2a2a2a;\n"]))),_e=f.a.div(je||(je=Object(g.a)(["\n  margin-top: -50px;\n  margin-left: 2rem;\n  margin-bottom: 2rem;\n"]))),Ne=f.a.p(ue||(ue=Object(g.a)(["\n  color: rgba(255, 255, 255, 0.8);\n  font-size: 48px;\n  font-weight: bold;\n  margin-left: 2rem;\n  margin-top: -0.7rem;\n"]))),Ie=f.a.p(de||(de=Object(g.a)(["\n  color: rgba(255, 255, 255, 0.8);\n  font-size: 32px;\n  font-weight: bold;\n  margin-left: 2rem;\n  margin-top: 0px;\n"]))),Ge=f.a.img(be||(be=Object(g.a)(["\n  margin-left: 2rem;\n  height: 50vh;\n  width: 40vw;\n"]))),Le=function(){var e=Object(P.h)().restaurantId,t=Object(j.useContext)(k).user,a=Object(P.g)(),r=Object(j.useRef)(null),i=Object(j.useState)({}),c=Object(p.a)(i,2),s=c[0],o=c[1],l=Object(j.useState)([]),u=Object(p.a)(l,2),d=u[0],b=u[1],h=Object(j.useState)(0),O=Object(p.a)(h,2),g=O[0],f=O[1],y=Object(j.useState)(1),w=Object(p.a)(y,2),C=w[0],B=w[1],T=Object(j.useState)(""),E=Object(p.a)(T,2),A=E[0],R=E[1],D=Object(j.useState)(!1),_=Object(p.a)(D,2),I=_[0],G=_[1],L=Object(j.useState)([]),F=Object(p.a)(L,2),z=F[0],H=F[1],W=Object(j.useState)(!0),M=Object(p.a)(W,2),U=M[0],J=M[1];Object(j.useEffect)((function(){q()}),[]),Object(j.useEffect)((function(){Y()}),[d]),Object(j.useEffect)((function(){return we.a.loadAnimation({container:r.current,renderer:"svg",loop:!0,autoplay:!0,animationData:n(42)}),function(){we.a.destroy()}}));var q=function(){var n=Object(m.a)(x.a.mark((function n(){var a,r,i;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S.get("/restaurant/getById/".concat(e));case 2:return a=n.sent,o(a.data.restaurant),n.next=6,S.get("/review/");case 6:return(r=n.sent).data.review.sort((function(e,t){return e.star<t.star?1:-1})),b(r.data.review),n.next=11,S.get("/reviewreply/");case 11:i=n.sent,H(i.data.reviewReply),G(!!r.data.review.find((function(e){if(e.restaurant===a.data.restaurant._id)return e.user._id===t._id}))),J(!1);case 15:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Y=function(){var e,t=[];d.map((function(e){return s._id===e.restaurant&&t.push(parseInt(e.star)),null})),e=ne.a.sum(t)/t.length,f(e)};return Object(v.jsxs)(De,{children:[Object(v.jsx)(N,{}),U?Object(v.jsx)(Ee,{}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"2rem"},children:Object(v.jsx)(Ne,{children:s&&s.name})}),Object(v.jsx)(_e,{children:Object(v.jsx)(K.a,{name:"read-only",value:g,precision:.5,readOnly:!0})}),Object(v.jsx)(Ge,{src:"http://localhost:5000/".concat(s.image)}),Object(v.jsx)(Ie,{children:s&&s.description}),Object(v.jsxs)(Be.a,{sx:{width:"95%",bgcolor:"rgba(0, 0, 0, 0.8)",color:"white",marginLeft:"auto",marginRight:"auto",marginBottom:"2rem"},children:[Object(v.jsx)(Z.a,{style:{marginLeft:"1rem",marginBottom:7},children:"Reviews"}),Object(v.jsx)(Ae.a,{style:{background:"grey"}}),!d.find((function(e){return e.restaurant===s._id}))&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:{height:190,width:190,marginLeft:"auto",marginRight:"auto"},className:"lottieContainer",ref:r}),Object(v.jsx)(Z.a,{style:{textAlign:"center",marginLeft:-5},children:"Empty"})]}),d.map((function(e){return e.restaurant===s._id&&Object(v.jsxs)("div",{children:[Object(v.jsx)(Te.a,{alignItems:"flex-start",children:Object(v.jsx)(Re.a,{primary:e.user.username,secondary:Object(v.jsxs)("div",{children:[Object(v.jsx)(K.a,{name:"read-only",value:e.star,readOnly:!0}),Object(v.jsx)("br",{}),Object(v.jsx)(Z.a,{sx:{display:"inline",color:"white",fontSize:22},component:"span",variant:"body2",color:"text.primary",children:e.comments})]})})}),e.reply&&z.map((function(t){return e._id===t.review&&Object(v.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",marginBottom:"2rem"},children:Object(v.jsx)("textarea",{name:"comments",disabled:!0,value:t.reply,placeholder:"Write your comment",style:{backgroundColor:"rgba(255, 255, 255, 0.8)",fontSize:16,marginLeft:"auto",marginRight:"auto",width:"90vw",height:60}})})}))]})}))]}),Object(v.jsx)("form",{onSubmit:function(n){n.preventDefault();var r={star:C,comments:A,restaurant:e,user:t._id};S.post("/review/create",r),a.push("/")},children:Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",marginBottom:"2rem"},children:[Object(v.jsx)(K.a,{style:{marginLeft:"3.2rem",marginBottom:5,width:20},name:"simple-controlled",value:C,disabled:I,onChange:function(e){B(e.target.value)}}),Object(v.jsx)("textarea",{name:"comments",value:A,onChange:function(e){return R(e.target.value)},disabled:I,placeholder:"Write your review",style:{backgroundColor:"rgba(255, 255, 255, 0.8)",fontSize:16,marginLeft:"auto",marginRight:"auto",width:"90vw",height:100}}),Object(v.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(v.jsx)(V.a,{disabled:I||!A,style:{marginTop:6,maxWidth:145,right:"3.2rem"},variant:"contained",type:"submit",children:"Share Review"})})]})})]})]})},Fe=function(){return Object(v.jsxs)(P.d,{children:[Object(v.jsx)(P.b,{path:"/",exact:!0,component:Se}),Object(v.jsx)(P.b,{path:"/restaurantview/:restaurantId",exact:!0,component:Le}),Object(v.jsx)(P.a,{from:"*",to:"/"})]})},Ve=f.a.div(he||(he=Object(g.a)(["\n  position: absolute;\n  height: 100vh;\n  width: 100vw;\n  overflow-x: hidden;\n  background-color: #2a2a2a;\n"]))),ze=f.a.div(xe||(xe=Object(g.a)(["\n  margin-top: 2rem;\n  margin-bottom: 20px;\n"]))),Pe=function(){var e=Object(j.useContext)(k).user,t=Object(j.useState)([]),a=Object(p.a)(t,2),r=a[0],i=a[1],c=Object(j.useState)(!0),s=Object(p.a)(c,2),o=s[0],l=s[1],u=Object(j.useRef)(null);Object(j.useEffect)((function(){d()}),[]),Object(j.useEffect)((function(){return we.a.loadAnimation({container:u.current,renderer:"svg",loop:!0,autoplay:!0,animationData:n(42)}),function(){we.a.destroy()}}));var d=function(){var t=Object(m.a)(x.a.mark((function t(){var n,a,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.next=3,S.get("/restaurant/getByOwnerId/".concat(e._id));case 3:return a=t.sent,t.next=6,S.get("/review/");case 6:r=t.sent,a.data.restaurant.map((function(e){var t,a=[];r.data.review.map((function(t){return e._id===t.restaurant&&a.push(parseInt(t.star)),null})),t=ne.a.sum(a)/a.length,e.averageReview=t||0,n.push(e)})),n.sort((function(e,t){return e.averageReview<t.averageReview?1:-1})),i(n),l(!1);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(v.jsxs)(Ve,{children:[Object(v.jsx)(N,{}),Object(v.jsxs)(ze,{children:[Object(v.jsx)("div",{style:{marginLeft:"1.2rem"},children:Object(v.jsx)(O.b,{to:"/create",children:Object(v.jsx)(D,{label:"ADD NEW"})})}),0===r.length&&!o&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:{height:190,width:190,margin:"auto"},className:"lottieContainer",ref:u}),Object(v.jsx)(Z.a,{style:{textAlign:"center",marginLeft:-5},children:"Empty"})]}),Object(v.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3,minmax(0,1fr))"},children:o?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ce,{}),Object(v.jsx)(ce,{}),Object(v.jsx)(ce,{})]}):r.map((function(e){return Object(v.jsx)(ee,{name:e.name,rating:e.averageReview,image:e.image,description:e.description,restaurantId:e._id})}))})]})]})},He=Object(z.a)({field:{width:292.5,height:30,marginBottom:20,backgroundColor:"rgba(255, 255, 255, 0.8)"},btn:{fontSize:18,letterSpacing:2,padding:10},form:{width:300,backgroundColor:"rgba(0, 0, 0, 0.6)",padding:50,margin:"auto",marginTop:50},Container:{height:"100vh",width:"100vw",overflow:"hidden",backgroundColor:"#2a2a2a"}}),We=function(){var e=He(),t=Object(j.useContext)(k).user,n=Object(j.useState)(""),a=Object(p.a)(n,2),r=a[0],i=a[1],c=Object(j.useState)(""),s=Object(p.a)(c,2),o=s[0],l=s[1],u=Object(j.useState)(""),d=Object(p.a)(u,2),b=d[0],h=d[1],x=Object(j.useState)(""),m=Object(p.a)(x,2),O=m[0],g=m[1],f=Object(P.g)();return Object(v.jsx)(F.a,{className:e.Container,maxWidth:!1,children:Object(v.jsxs)("form",{className:e.form,onSubmit:function(e){if(e.preventDefault(),r&&o&&b){var n=new FormData;n.append("name",r),n.append("image",o,o.name),n.append("description",b),n.append("owner",t._id),S.post("/restaurant/create",n).then((function(){f.push("/")}))}else g("All fields are required")},children:[Object(v.jsx)("div",{style:{color:"white",fontSize:18,height:25,textAlign:"center"},children:"ADD RESTAURANT"}),Object(v.jsx)("div",{style:{color:"red",height:25},children:O&&O}),Object(v.jsxs)("div",{style:{marginBottom:15},children:[Object(v.jsx)("input",{placeholder:"name",type:"text",name:"username",value:r,onChange:function(e){return i(e.target.value)},className:e.field}),Object(v.jsx)("input",{type:"file",name:"image",onChange:function(e){return l(e.target.files[0])},style:{color:"white",marginBottom:20}}),Object(v.jsx)("textarea",{placeholder:"description",type:"text",name:"description",value:b,onChange:function(e){return h(e.target.value)},className:e.field,style:{height:100}})]}),Object(v.jsx)(V.a,{className:e.btn,variant:"contained",fullWidth:!0,type:"submit",children:"Submit"})]})})},Me=f.a.div(me||(me=Object(g.a)(["\n  position: absolute;\n  height: 100vh;\n  width: 100vw;\n  overflow-x: hidden;\n  background-color: #2a2a2a;\n"]))),Ue=f.a.div(pe||(pe=Object(g.a)(["\n  margin-top: -50px;\n  margin-left: 2rem;\n  margin-bottom: 2rem;\n"]))),Je=f.a.p(Oe||(Oe=Object(g.a)(["\n  color: rgba(255, 255, 255, 0.8);\n  font-size: 48px;\n  font-weight: bold;\n  margin-left: 2rem;\n  margin-top: -0.7rem;\n"]))),qe=f.a.p(ge||(ge=Object(g.a)(["\n  color: rgba(255, 255, 255, 0.8);\n  font-size: 32px;\n  font-weight: bold;\n  margin-left: 2rem;\n  margin-top: 0px;\n"]))),Ye=f.a.img(fe||(fe=Object(g.a)(["\n  margin-left: 2rem;\n  height: 50vh;\n  width: 40vw;\n"]))),Ke=(f.a.img(ve||(ve=Object(g.a)(["\n  margin-left: 2rem;\n  height: 50vh;\n  width: 40vw;\n"]))),function(){var e=Object(P.h)().restaurantId,t=Object(j.useContext)(k).user,a=Object(P.g)(),r=Object(j.useRef)(null),i=Object(j.useState)({}),c=Object(p.a)(i,2),s=c[0],o=c[1],l=Object(j.useState)([]),u=Object(p.a)(l,2),d=u[0],b=u[1],h=Object(j.useState)([]),O=Object(p.a)(h,2),g=O[0],f=O[1],y=Object(j.useState)(0),w=Object(p.a)(y,2),C=w[0],B=w[1],T=Object(j.useState)(""),E=Object(p.a)(T,2),A=E[0],R=E[1],D=Object(j.useState)(""),_=Object(p.a)(D,2),I=_[0],G=_[1],L=Object(j.useState)(!0),F=Object(p.a)(L,2),z=F[0],H=F[1];Object(j.useEffect)((function(){W()}),[]),Object(j.useEffect)((function(){M()}),[d]),Object(j.useEffect)((function(){return we.a.loadAnimation({container:r.current,renderer:"svg",loop:!0,autoplay:!0,animationData:n(42)}),function(){we.a.destroy()}}));var W=function(){var n=Object(m.a)(x.a.mark((function n(){var a,r,i;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S.get("/restaurant/getById/".concat(e));case 2:return a=n.sent,o(a.data.restaurant),n.next=6,S.get("/review/");case 6:return(r=n.sent).data.review.sort((function(e,t){return e.star<t.star?1:-1})),b(r.data.review),n.next=11,S.get("/reviewreply/getByOwnerId/".concat(t._id));case 11:i=n.sent,f(i.data.reviewReply),H(!1);case 14:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),M=function(){var e,t=[];d.map((function(e){return s._id===e.restaurant&&t.push(parseInt(e.star)),null})),e=ne.a.sum(t)/t.length,B(e)},U=function(e){e.preventDefault();var n={reply:A,review:I,owner:t._id};S.post("/reviewreply/create",n).then((function(){S.put("/review/replied/".concat(I)).then((function(){a.push("/")}))}))};return Object(v.jsxs)(Me,{children:[Object(v.jsx)(N,{}),z?Object(v.jsx)(Ee,{}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"2rem"},children:Object(v.jsx)(Je,{children:s&&s.name})}),Object(v.jsx)(Ue,{children:Object(v.jsx)(K.a,{name:"read-only",value:C,precision:.5,readOnly:!0})}),Object(v.jsx)(Ye,{src:"http://localhost:5000/".concat(s.image)}),Object(v.jsx)(qe,{children:s&&s.description}),Object(v.jsxs)(Be.a,{sx:{width:"95%",bgcolor:"rgba(0, 0, 0, 0.8)",color:"white",marginLeft:"auto",marginRight:"auto",marginBottom:"2rem"},children:[Object(v.jsx)(Z.a,{style:{marginLeft:"1rem",marginBottom:7},children:"Reviews"}),Object(v.jsx)(Ae.a,{style:{background:"grey"}}),!d.find((function(e){return e.restaurant===s._id}))&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:{height:190,width:190,marginLeft:"auto",marginRight:"auto"},className:"lottieContainer",ref:r}),Object(v.jsx)(Z.a,{style:{textAlign:"center",marginLeft:-5},children:"Empty"})]}),d.map((function(e){return e.restaurant===s._id&&Object(v.jsxs)("div",{children:[Object(v.jsx)(Te.a,{alignItems:"flex-start",children:Object(v.jsx)(Re.a,{primary:e.user.username,secondary:Object(v.jsxs)("div",{children:[Object(v.jsx)(K.a,{name:"read-only",value:e.star,readOnly:!0}),Object(v.jsx)("br",{}),Object(v.jsx)(Z.a,{sx:{display:"inline",color:"white",fontSize:22},component:"span",variant:"body2",color:"text.primary",children:e.comments})]})})}),e.reply?g.map((function(t){return e._id===t.review&&Object(v.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",marginBottom:"2rem"},children:Object(v.jsx)("textarea",{name:"comments",disabled:!0,value:t.reply,placeholder:"Write your comment",style:{backgroundColor:"rgba(255, 255, 255, 0.8)",fontSize:16,marginLeft:"auto",marginRight:"auto",width:"90vw",height:60}})})})):Object(v.jsx)("form",{onSubmit:U,children:Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",marginBottom:"2rem"},children:[Object(v.jsx)("textarea",{name:"reply",value:A,onChange:function(t){R(t.target.value),G(e._id)},placeholder:"Write your reply",style:{backgroundColor:"rgba(255, 255, 255, 0.8)",fontSize:16,marginLeft:"auto",marginRight:"auto",width:"90vw",height:60}}),Object(v.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(v.jsx)(V.a,{style:{marginTop:6,maxWidth:145,right:"3.2rem"},variant:"contained",type:"submit",children:"Share Reply"})})]})})]})}))]})]})]})}),Qe=function(){return Object(v.jsxs)(P.d,{children:[Object(v.jsx)(P.b,{path:"/",exact:!0,component:Pe}),Object(v.jsx)(P.b,{path:"/create",exact:!0,component:We}),Object(v.jsx)(P.b,{path:"/restaurantview/:restaurantId",exact:!0,component:Ke}),Object(v.jsx)(P.a,{from:"*",to:"/"})]})},Xe=n(197),Ze=Object(z.a)((function(){return{page:{background:"#f9f9f9",width:"10%"},drawer:{"& .css-12i7wg6-MuiPaper-root-MuiDrawer-paper":{backgroundColor:"#2a2a2a",color:"white",borderRight:"1px solid black",paddingTop:60,display:"flex",alignItems:"center"}},drawerPaper:{width:210}}})),$e=function(e){var t=e.children,n=Ze(),a=Object(P.g)();return Object(v.jsxs)("div",{children:[Object(v.jsxs)(Xe.a,{className:n.drawer,variant:"permanent",classes:{paper:n.drawerPaper},children:[Object(v.jsx)("div",{children:Object(v.jsx)(Z.a,{variant:"h5",style:{marginTop:-40,marginBottom:20},children:"Welcome!"})}),Object(v.jsxs)(Be.a,{children:[Object(v.jsx)(Te.a,{button:!0,onClick:function(){return a.push("/user")},children:Object(v.jsx)(Re.a,{primary:"Users"})},"Users"),Object(v.jsx)(Te.a,{button:!0,onClick:function(){return a.push("/restaurant")},children:Object(v.jsx)(Re.a,{primary:"Restaurants"})},"Restaurants"),Object(v.jsx)(Te.a,{button:!0,onClick:function(){return a.push("/review")},children:Object(v.jsx)(Re.a,{primary:"Reviews"})},"Reviews"),Object(v.jsx)(Te.a,{button:!0,onClick:function(){return a.push("/reply")},children:Object(v.jsx)(Re.a,{primary:"Reply"})},"Reply")]})]}),Object(v.jsxs)("div",{className:n.page,children:[Object(v.jsx)("div",{className:n.toolbar}),t]})]})},et=n(108),tt=n.n(et),nt=n(44),at=n.n(nt),rt=n(211),it=n(199),ct=n(212),st=n(19),ot=(n(58),function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Te.a,{children:Object(v.jsx)(Re.a,{primary:Object(v.jsx)(re.a,{animation:"wave",height:16,width:"12%",style:{backgroundColor:"grey"}}),secondary:Object(v.jsx)(re.a,{animation:"wave",height:16,width:"25%",style:{backgroundColor:"grey"}})})}),Object(v.jsxs)(Te.a,{children:[Object(v.jsx)(Ae.a,{style:{borderColor:"rgba(0,0,0,0.3)"},light:!0}),Object(v.jsx)(Re.a,{primary:Object(v.jsx)(re.a,{animation:"wave",height:15,width:"12%",style:{backgroundColor:"grey"}}),secondary:Object(v.jsx)(re.a,{animation:"wave",height:16,width:"25%",style:{backgroundColor:"grey"}})})]}),Object(v.jsxs)(Te.a,{children:[Object(v.jsx)(Ae.a,{style:{borderColor:"rgba(0,0,0,0.3)"},light:!0}),Object(v.jsx)(Re.a,{primary:Object(v.jsx)(re.a,{animation:"wave",height:16,width:"12%",style:{backgroundColor:"grey"}}),secondary:Object(v.jsx)(re.a,{animation:"wave",height:16,width:"25%",style:{backgroundColor:"grey"}})})]})]})});st.a.configure({limit:1});var lt,jt=Object(z.a)((function(){return{Listtext:{color:"white","& .css-83ijpv-MuiTypography-root":{color:" rgba(255, 255, 255, 0.6)"}},form:{width:300,backgroundColor:"rgba(0, 0, 0, 0.6)",padding:50,margin:"auto"},field:{width:292.5,height:30,marginBottom:20,backgroundColor:"rgba(255, 255, 255, 0.8)"}}})),ut=function(){var e=jt(),t=Object(j.useState)([]),a=Object(p.a)(t,2),r=a[0],i=a[1],c=Object(j.useState)(!1),s=Object(p.a)(c,2),o=s[0],l=s[1],u=Object(j.useState)(""),d=Object(p.a)(u,2),b=d[0],h=d[1],O=Object(j.useState)(""),g=Object(p.a)(O,2),f=g[0],y=g[1],w=Object(j.useState)(""),k=Object(p.a)(w,2),C=k[0],B=k[1],T=Object(j.useState)(""),E=Object(p.a)(T,2),A=E[0],R=E[1],D=Object(j.useState)(!1),_=Object(p.a)(D,2),N=_[0],I=_[1],G=Object(j.useState)(!0),L=Object(p.a)(G,2),F=L[0],z=L[1],P=Object(j.useState)(""),H=Object(p.a)(P,2),W=H[0],M=H[1],U=Object(j.useRef)(null);Object(j.useEffect)((function(){J()}),[]),Object(j.useEffect)((function(){return we.a.loadAnimation({container:U.current,renderer:"svg",loop:!0,autoplay:!0,animationData:n(42)}),function(){we.a.destroy()}}));var J=function(){var e=Object(m.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("/user/");case 2:t=e.sent,i(t.data.users),z(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),b?(R(""),n={username:b,role:f},S.put("/user/edit/".concat(C),n).then((function(){J(),l(!1)}))):R("Username can't be empty.");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(m.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(!0),S.delete("/user/delete/".concat(t)).then((function(e){J(),"Deleted successfully!"===e.data.message?st.a.success(e.data.message,{position:st.a.POSITION.BOTTOM_RIGHT,autoClose:2e3,pauseOnHover:!1}):st.a.warning(e.data.message,{position:st.a.POSITION.BOTTOM_RIGHT,autoClose:2e3,pauseOnHover:!1}),setTimeout((function(){I(!1)}),2300)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(Be.a,{children:[!r.find((function(e){return"admin"!==e.role}))&&!F&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:{height:190,width:190,margin:"auto"},className:"lottieContainer",ref:U}),Object(v.jsx)(Z.a,{style:{textAlign:"center",marginLeft:-5},children:"Empty"})]}),F?Object(v.jsx)(ot,{}):r.map((function(t){return Object(v.jsx)("div",{children:"admin"!==t.role&&Object(v.jsxs)(Te.a,{children:[Object(v.jsx)(Re.a,{primary:t.username,secondary:t.role,className:e.Listtext}),Object(v.jsx)("br",{}),Object(v.jsx)(rt.a,{onClick:function(){M(t._id),Y(t._id)},children:N&&t._id===W?Object(v.jsx)(ct.a,{size:20}):Object(v.jsx)(at.a,{style:{color:"white"}})}),Object(v.jsx)(rt.a,{onClick:function(){l(!0),h(t.username),y(t.role),B(t._id)},children:Object(v.jsx)(tt.a,{style:{color:"white"}})}),Object(v.jsx)(Ae.a,{style:{borderColor:"rgba(0,0,0,0.3)"},light:!0}),Object(v.jsx)(it.a,{onClose:function(){return l(!1)},open:o,className:e.Container,children:Object(v.jsxs)("form",{className:e.form,onSubmit:q,children:[Object(v.jsx)("div",{style:{color:"red",height:25},children:A&&A}),Object(v.jsxs)("div",{style:{marginBottom:15},children:[Object(v.jsx)("input",{placeholder:"username",type:"text",name:"username",value:b,onChange:function(e){return h(e.target.value)},className:e.field}),Object(v.jsx)("input",{placeholder:t.email,disabled:!0,type:"email",name:"email",className:e.field}),Object(v.jsx)("input",{placeholder:"******",disabled:!0,type:"password",name:"password",className:e.field}),Object(v.jsxs)("select",{style:{width:300,height:30},value:f,onChange:function(e){return y(e.target.value)},name:"role",children:[Object(v.jsx)("option",{value:"N/A",disabled:!0,children:"--Select a Role--"}),Object(v.jsx)("option",{value:"user",children:"Restaurant Customer"}),Object(v.jsx)("option",{value:"owner",children:"Restaurant Owner"})]})]}),Object(v.jsx)(V.a,{className:e.btn,variant:"contained",fullWidth:!0,type:"submit",children:"Update"})]})})]},t.name)})}))]})},dt=f.a.div(lt||(lt=Object(g.a)(["\n  position: absolute;\n  height: 100vh;\n  width: 100%;\n  overflow-x: hidden;\n  background-color: #2a2a2a;\n  margin-left: 210px;\n  width: calc(100% - 210px);\n"]))),bt=function(){return Object(v.jsx)($e,{children:Object(v.jsxs)(dt,{children:[Object(v.jsx)(N,{}),Object(v.jsx)(ut,{})]})})};st.a.configure({limit:1});var ht,xt=Object(z.a)((function(){return{Listtext:{color:"white","& .css-83ijpv-MuiTypography-root":{color:" rgba(255, 255, 255, 0.6)",width:350,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}}})),mt=function(){var e=xt(),t=Object(j.useState)(!1),a=Object(p.a)(t,2),r=a[0],i=a[1],c=Object(j.useState)(""),s=Object(p.a)(c,2),o=s[0],l=s[1],u=Object(j.useState)(!0),d=Object(p.a)(u,2),b=d[0],h=d[1],O=Object(j.useRef)(null),g=Object(j.useState)([]),f=Object(p.a)(g,2),y=f[0],w=f[1];Object(j.useEffect)((function(){k()}),[]),Object(j.useEffect)((function(){return we.a.loadAnimation({container:O.current,renderer:"svg",loop:!0,autoplay:!0,animationData:n(42)}),function(){we.a.destroy()}}));var k=function(){var e=Object(m.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("/restaurant/");case 2:t=e.sent,w(t.data.restaurant),h(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(m.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),S.delete("/restaurant/delete/".concat(t)).then((function(e){k(),"Deleted successfully!"===e.data.message?st.a.success(e.data.message,{position:st.a.POSITION.BOTTOM_RIGHT,autoClose:2e3,pauseOnHover:!1}):st.a.warning(e.data.message,{position:st.a.POSITION.BOTTOM_RIGHT,autoClose:2e3,pauseOnHover:!1}),setTimeout((function(){i(!1)}),2300)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(Be.a,{children:[0===y.length&&!b&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:{height:190,width:190,margin:"auto"},className:"lottieContainer",ref:O}),Object(v.jsx)(Z.a,{style:{textAlign:"center",marginLeft:-5},children:"Empty"})]}),b?Object(v.jsx)(ot,{}):y.map((function(t){return Object(v.jsxs)("div",{children:[Object(v.jsxs)(Te.a,{children:[Object(v.jsx)(Re.a,{primary:t.name,secondary:t.description,className:e.Listtext}),Object(v.jsx)("br",{}),Object(v.jsx)(rt.a,{onClick:function(){l(t._id),C(t._id)},children:r&&t._id===o?Object(v.jsx)(ct.a,{size:20}):Object(v.jsx)(at.a,{style:{color:"white"}})})]},t.name),Object(v.jsx)(Ae.a,{style:{borderColor:"rgba(0,0,0,0.3)"},light:!0})]})}))]})},pt=f.a.div(ht||(ht=Object(g.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  overflow-x: hidden;\n  background-color: #2a2a2a;\n  margin-left: 210px;\n  width: calc(100% - 210px);\n"]))),Ot=function(){return Object(v.jsx)($e,{children:Object(v.jsxs)(pt,{children:[Object(v.jsx)(N,{}),Object(v.jsx)(mt,{})]})})},gt=n(109),ft=n.n(gt);st.a.configure({limit:1});var vt,yt=Object(z.a)((function(){return{Listtext:{color:"white","& .css-83ijpv-MuiTypography-root":{color:" rgba(255, 255, 255, 0.6)",width:350,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}}})),wt=function(){var e=yt(),t=Object(j.useState)(!1),a=Object(p.a)(t,2),r=a[0],i=a[1],c=Object(j.useState)(""),s=Object(p.a)(c,2),o=s[0],l=s[1],u=Object(j.useState)(!0),d=Object(p.a)(u,2),b=d[0],h=d[1],O=Object(j.useRef)(null),g=Object(j.useState)([]),f=Object(p.a)(g,2),y=f[0],w=f[1];Object(j.useEffect)((function(){k()}),[]),Object(j.useEffect)((function(){return we.a.loadAnimation({container:O.current,renderer:"svg",loop:!0,autoplay:!0,animationData:n(42)}),function(){we.a.destroy()}}));var k=function(){var e=Object(m.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("/review/");case 2:t=e.sent,w(t.data.review),h(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(m.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),S.delete("/review/delete/".concat(t)).then((function(e){k(),"Deleted successfully!"===e.data.message?st.a.success(e.data.message,{position:st.a.POSITION.BOTTOM_RIGHT,autoClose:2e3,pauseOnHover:!1}):st.a.warning(e.data.message,{position:st.a.POSITION.BOTTOM_RIGHT,autoClose:2e3,pauseOnHover:!1}),setTimeout((function(){i(!1)}),2300)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(Be.a,{children:[0===y.length&&!b&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:{height:190,width:190,margin:"auto"},className:"lottieContainer",ref:O}),Object(v.jsx)(Z.a,{style:{textAlign:"center",marginLeft:-5},children:"Empty"})]}),b?Object(v.jsx)(ot,{}):y.map((function(t){return Object(v.jsxs)("div",{children:[Object(v.jsxs)(Te.a,{children:[Object(v.jsx)(Re.a,{primary:Object(v.jsxs)("div",{children:[t.user.username," (",t.star,Object(v.jsx)(ft.a,{style:{fontSize:14}}),")"]}),secondary:t.comments,className:e.Listtext}),Object(v.jsx)("br",{}),Object(v.jsx)(rt.a,{onClick:function(){l(t._id),C(t._id)},children:r&&t._id===o?Object(v.jsx)(ct.a,{size:20}):Object(v.jsx)(at.a,{style:{color:"white"}})})]},t.name),Object(v.jsx)(Ae.a,{style:{borderColor:"rgba(0,0,0,0.3)"},light:!0})]})}))]})},kt=f.a.div(vt||(vt=Object(g.a)(["\n  position: absolute;\n  height: 100vh;\n  width: 100%;\n  overflow-x: hidden;\n  background-color: #2a2a2a;\n  margin-left: 210px;\n  width: calc(100% - 210px);\n"]))),Ct=function(){return Object(v.jsx)($e,{children:Object(v.jsxs)(kt,{children:[Object(v.jsx)(N,{}),Object(v.jsx)(wt,{})]})})};st.a.configure({limit:1});var St,Bt,Tt=Object(z.a)((function(){return{Listtext:{color:"white","& .css-83ijpv-MuiTypography-root":{color:" rgba(255, 255, 255, 0.6)",width:350,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}}})),Et=function(){var e=Tt(),t=Object(j.useState)(!1),a=Object(p.a)(t,2),r=a[0],i=a[1],c=Object(j.useState)(""),s=Object(p.a)(c,2),o=s[0],l=s[1],u=Object(j.useState)(!0),d=Object(p.a)(u,2),b=d[0],h=d[1],O=Object(j.useState)([]),g=Object(p.a)(O,2),f=g[0],y=g[1],w=Object(j.useRef)(null);Object(j.useEffect)((function(){k()}),[]),Object(j.useEffect)((function(){return we.a.loadAnimation({container:w.current,renderer:"svg",loop:!0,autoplay:!0,animationData:n(42)}),function(){we.a.destroy()}}));var k=function(){var e=Object(m.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("/reviewreply/");case 2:t=e.sent,y(t.data.reviewReply),h(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(m.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),S.delete("/reviewreply/delete/".concat(t)).then((function(e){k(),"Deleted successfully!"===e.data.message?st.a.success(e.data.message,{position:st.a.POSITION.BOTTOM_RIGHT,autoClose:2e3,pauseOnHover:!1}):st.a.warning(e.data.message,{position:st.a.POSITION.BOTTOM_RIGHT,autoClose:2e3,pauseOnHover:!1}),setTimeout((function(){i(!1)}),2300)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(Be.a,{children:[0===f.length&&!b&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:{height:190,width:190,margin:"auto"},className:"lottieContainer",ref:w}),Object(v.jsx)(Z.a,{style:{textAlign:"center",marginLeft:-5},children:"Empty"})]}),b?Object(v.jsx)(ot,{}):f.map((function(t){return Object(v.jsxs)("div",{children:[Object(v.jsxs)(Te.a,{children:[Object(v.jsx)(Re.a,{primary:t.owner.username,secondary:t.reply,className:e.Listtext}),Object(v.jsx)("br",{}),Object(v.jsx)(rt.a,{onClick:function(){l(t._id),C(t._id)},children:r&&t._id===o?Object(v.jsx)(ct.a,{size:20}):Object(v.jsx)(at.a,{style:{color:"white"}})})]},t.username),Object(v.jsx)(Ae.a,{style:{borderColor:"rgba(0,0,0,0.3)"},light:!0})]})}))]})},At=f.a.div(St||(St=Object(g.a)(["\n  position: absolute;\n  height: 100vh;\n  width: 100%;\n  overflow-x: hidden;\n  background-color: #2a2a2a;\n  margin-left: 210px;\n  width: calc(100% - 210px);\n"]))),Rt=function(){return Object(v.jsx)($e,{children:Object(v.jsxs)(At,{children:[Object(v.jsx)(N,{}),Object(v.jsx)(Et,{})]})})},Dt=function(){return Object(v.jsxs)(P.d,{children:[Object(v.jsx)(P.b,{path:"/",exact:!0,component:bt}),Object(v.jsx)(P.b,{path:"/user",exact:!0,component:bt}),Object(v.jsx)(P.b,{path:"/restaurant",exact:!0,component:Ot}),Object(v.jsx)(P.b,{path:"/review",exact:!0,component:Ct}),Object(v.jsx)(P.b,{path:"/reply",exact:!0,component:Rt}),Object(v.jsx)(P.a,{from:"*",to:"/"})]})},_t=f.a.div(Bt||(Bt=Object(g.a)(["\n  position: absolute;\n  height: 100vh;\n  width: 100vw;\n  overflow: hidden;\n  background-color: #2a2a2a;\n  display: grid;\n  place-items: center;\n"]))),Nt=function(){return Object(v.jsx)(_t,{children:Object(v.jsx)(ct.a,{size:50})})},It=function(e){var t=e.Loading,n=Object(j.useContext)(k).user;return Object(v.jsx)("div",{children:Object(v.jsx)(O.a,{children:t?Object(v.jsx)(Nt,{}):n.role?"user"===n.role?Object(v.jsx)(Fe,{}):"owner"===n.role?Object(v.jsx)(Qe,{}):Object(v.jsx)(Dt,{}):Object(v.jsx)(J,{})})})},Gt=n(110),Lt=n.n(Gt);n(150);var Ft=function(){S.defaults.withCredentials=!0;var e=Object(j.useState)(!0),t=Object(p.a)(e,2),n=t[0],a=t[1],r=Object(j.useContext)(k).setUser;Object(j.useEffect)((function(){i(),Lt.a.init()}),[]);var i=function(){var e=Object(m.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("/user/loggedin");case 2:(t=e.sent).data.error||r(t.data.user),a(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)(It,{Loading:n})};b.a.render(Object(v.jsx)(u.a.StrictMode,{children:Object(v.jsx)(w,{children:Object(v.jsx)(Ft,{})})}),document.getElementById("root"))},42:function(e){e.exports=JSON.parse('{"v":"4.7.0","fr":25,"ip":0,"op":50,"w":120,"h":120,"nm":"Comp 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"ruoi","ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.967]},"o":{"x":[0.167],"y":[0.033]},"n":["0p833_0p967_0p167_0p033"],"t":35,"s":[100],"e":[0]},{"t":49}]},"r":{"a":0,"k":0},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0,"y":0},"n":"0p833_0p833_0_0","t":0,"s":[57.361,61.016,0],"e":[57.699,41.796,0],"to":[-4.67500305175781,-4.12800598144531,0],"ti":[-13.9099960327148,5.27300262451172,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"n":"0p833_0p833_0p167_0p167","t":10.219,"s":[57.699,41.796,0],"e":[79.084,33.982,0],"to":[12.8159942626953,-4.85800170898438,0],"ti":[-4.54498291015625,3.73400115966797,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"n":"0p833_0p833_0p167_0p167","t":19.445,"s":[79.084,33.982,0],"e":[59.691,9.121,0],"to":[6.61601257324219,-5.43799591064453,0],"ti":[20.0290069580078,1.20700073242188,0]},{"t":35}]},"a":{"a":0,"k":[60.531,10.945,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.994,0],[0,-0.994],[0.995,0],[0,0.994]],"o":[[0.995,0],[0,0.994],[-0.994,0],[0,-0.994]],"v":[[-0.001,-1.801],[1.801,-0.001],[-0.001,1.801],[-1.801,-0.001]],"c":true}},"nm":"Path 1","mn":"ADBE Vector Shape - Group"},{"ty":"fl","c":{"a":0,"k":[0.529,0.529,0.529,1]},"o":{"a":0,"k":100},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill"},{"ty":"tr","p":{"a":0,"k":[62.4,13.144],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group"},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.422,0],[0,-1.422],[1.421,0],[0,1.422]],"o":[[1.421,0],[0,1.422],[-1.422,0],[0,-1.422]],"v":[[0.001,-2.574],[2.574,0],[0.001,2.574],[-2.574,0]],"c":true}},"nm":"Path 1","mn":"ADBE Vector Shape - Group"},{"ty":"st","c":{"a":0,"k":[0.529,0.529,0.529,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":0.7},"lc":1,"lj":1,"ml":10,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke"},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill"},{"ty":"tr","p":{"a":0,"k":[64.145,9.606],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":3,"cix":2,"ix":2,"mn":"ADBE Vector Group"},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.996,0],[0,-1.996],[1.996,0],[0,1.996]],"o":[[1.996,0],[0,1.996],[-1.996,0],[0,-1.996]],"v":[[0,-3.614],[3.614,0],[0,3.614],[-3.614,0]],"c":true}},"nm":"Path 1","mn":"ADBE Vector Shape - Group"},{"ty":"st","c":{"a":0,"k":[0.529,0.529,0.529,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":0.7},"lc":1,"lj":1,"ml":10,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke"},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill"},{"ty":"tr","p":{"a":0,"k":[57.957,10.552],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":3,"cix":2,"ix":3,"mn":"ADBE Vector Group"},{"ty":"tr","p":{"a":0,"k":[60.531,10.941],"ix":2},"a":{"a":0,"k":[60.531,10.941],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"ruoi","np":3,"cix":2,"ix":1,"mn":"ADBE Vector Group"}],"ip":0,"op":50,"st":0,"bm":0,"sr":1},{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 2","ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.967]},"o":{"x":[0.167],"y":[0.033]},"n":["0p833_0p967_0p167_0p033"],"t":35,"s":[100],"e":[0]},{"t":49}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[-0.75,-0.75,0]},"a":{"a":0,"k":[0,0,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-13.91,5.273],[-4.545,3.734],[20.029,1.207]],"o":[[-4.675,-4.128],[12.816,-4.858],[6.616,-5.438],[0,0]],"v":[[-7.383,24.76],[-7.046,5.54],[14.34,-2.273],[-3.178,-24.76]],"c":false}},"nm":"Path 1","mn":"ADBE Vector Shape - Group"},{"ty":"st","c":{"a":0,"k":[0.627,0.627,0.627,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":1},"lc":2,"lj":2,"d":[{"n":"d","nm":"dash","v":{"a":0,"k":2.028}},{"n":"g","nm":"gap","v":{"a":0,"k":2.028}},{"n":"o","nm":"offset","v":{"a":0,"k":0}}],"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke"},{"ty":"tr","p":{"a":0,"k":[67.87,37.631],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group"},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.953]},"o":{"x":[0.167],"y":[0.033]},"n":["0p833_0p953_0p167_0p033"],"t":0,"s":[0],"e":[100]},{"t":35}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim"}],"ip":0,"op":50,"st":0,"bm":0,"sr":1},{"ddd":0,"ind":3,"ty":4,"nm":"im_emptyBox Outlines","ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[60,60,0]},"a":{"a":0,"k":[60,60,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-0.001,-16.607],[-32.143,-0.002],[-0.001,16.607],[32.144,-0.002]],"c":true}},"nm":"Path 1","mn":"ADBE Vector Shape - Group"},{"ty":"fl","c":{"a":0,"k":[0.8,0.82,0.851,1]},"o":{"a":0,"k":100},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill"},{"ty":"tr","p":{"a":0,"k":[60,55.75],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group"},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[12.856,-23.249],[0,-16.605],[-12.857,-23.249],[-45,-6.641],[-32.144,0.001],[-45,6.645],[-12.857,23.249],[0,16.609],[12.856,23.249],[45,6.645],[32.143,0.001],[45,-6.641]],"c":true}},"nm":"Path 1","mn":"ADBE Vector Shape - Group"},{"ty":"fl","c":{"a":0,"k":[0.957,0.957,0.957,1]},"o":{"a":0,"k":100},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill"},{"ty":"tr","p":{"a":0,"k":[60,55.748],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 8","np":2,"cix":2,"ix":2,"mn":"ADBE Vector Group"},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-16.072,24.171],[16.072,11.312],[16.072,-24.171],[-16.072,-24.171]],"c":true}},"nm":"Path 1","mn":"ADBE Vector Shape - Group"},{"ty":"fl","c":{"a":0,"k":[0.902,0.914,0.929,1]},"o":{"a":0,"k":100},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill"},{"ty":"tr","p":{"a":0,"k":[76.072,83.33],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 9","np":2,"cix":2,"ix":3,"mn":"ADBE Vector Group"},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-32.143,-24.171],[-32.143,11.311],[-0.001,24.171],[32.144,11.311],[32.144,-24.171]],"c":true}},"nm":"Path 1","mn":"ADBE Vector Shape - Group"},{"ty":"fl","c":{"a":0,"k":[0.8,0.82,0.851,1]},"o":{"a":0,"k":100},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill"},{"ty":"tr","p":{"a":0,"k":[60,83.33],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 10","np":2,"cix":2,"ix":4,"mn":"ADBE Vector Group"},{"ty":"tr","p":{"a":0,"k":[60,60.186],"ix":2},"a":{"a":0,"k":[60,60.186],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"box","np":4,"cix":2,"ix":1,"mn":"ADBE Vector Group"}],"ip":0,"op":50,"st":0,"bm":0,"sr":1}]}')}},[[151,1,2]]]);
//# sourceMappingURL=main.94f0e1da.chunk.js.map